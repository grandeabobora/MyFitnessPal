return(0)
} else {
i <- tamanho(v[-1])+1
return(i)
}
}
v <- c(1, 2, 3, 5)
tamanho(v)
is.null(v)
tamanho <- function(v){
if (is.null(v) == 0){
i <- 0
} else {
j <- tamanho(v[-1])+1
}
return(max(i, j))
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho(0)
tamanho <- function(v){
j <- 0
if (is.null(v) == 0){
i <- 0
} else {
j <- tamanho(v[-1])+1
}
return(max(i, j))
}
is.null(v)
tamanho <- function(v){
j <- 0
if (is.null(v)){
i <- 0
} else {
j <- tamanho(v[-1])+1
}
return(max(i, j))
}
v <- c(1, 2, 3, 5)
tamanho(0)
tamanho <- function(v){
if (!is.null(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(0)
tamanho(v)
v <- c(1, 2, 3, 5)
tamanho(v)
length
i <- tamanho(v[-1])+1
tamanho <- function(v){
if (!is.null(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (!is.null(v)){
i <- tamanho(v[-1])+1
} else {
stop()
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
is.null(v)
is.null(v[-1][-1][-1][-1][-1][-1])
is.na(v[-1][-1][-1][-1][-1][-1])
tamanho <- function(v){
if (!is.na(v)){
i <- tamanho(v[-1])+1
} else {
stop()
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (is.numeric(v)){
i <- tamanho(v[-1])+1
} else {
stop()
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
x <- v[-1][-1][-1][-1][-1][-1]
x
is.numeric(x)
is.integer(x)
tamanho <- function(v){
if (is.numeric(v)){
i <- tamanho(v[-1])+1
} else {
stop()
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (is.integer(v)){
i <- tamanho(v[-1])+1
} else {
stop()
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
v <- as.integer(v)
if (is.integer(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
?is.na
is.nan(v)
is.nan(x)
isTRUE(x)
isTRUE(v)
is.logical(x)
is.logical(v)
any(v)
any(is.numerical(v))
any(is.numeric(v))
any(x)
tamanho <- function(v){
if (any(is.numeric(v))){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (any(tamanho(v))){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (!any(tamanho(v))){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (is.object(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (is.object(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
i <- 0
if (is.object(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
i <- 3
if (is.object(v)){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (v==0){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (v>0){
i <- tamanho(v[-1])+1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (v>0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
x <- v[-1][-1][-1][-1][-1][-1]
x
is.numeric(x)
x == v
is.logical(x)
is.logical(x==v)
v
is.logical(x>v)
x == logical(0)
identical(v, logical(0))
identical(v, x)
x
identical(v, numeric(0))
identical(x, numeric(0))
tamanho <- function(v){
if (!identical(tamanho(v[-1]), numeric(0))){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
if (!identical(tamanho(v), numeric(0))){
i <- tamanho(v[-1]) + 1
}
tamanho <- function(v){
if (!identical(tamanho(v), numeric(0))){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
if (length(v)==0){
i <- tamanho(v[-1]) + 1
}
tamanho <- function(v){
i <- 0
if (length(v)==0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (length(v)>=0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
if (length(v)>0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
i <- 0
if (length(v)>0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
length
.Primitive("length")
size
is.vector(v)
is.vector(x)
x
length(x)
size(x)
v==x
is.null(x)
is.na(x)
tamanho <- function(v){
i <- 0
if (length(v)>0){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
x
x==0
is.atomic(x)
is.atomic(v)
?is.atomic
isEmpty <- function(x) {
return(identical(x, numeric(0)))
}
isEmpty(x)
isEmpty(v)
if (identical(v, numeric(0))){
i <- tamanho(v[-1]) + 1
}
return(i)
tamanho <- function(v){
i <- 0
if (identical(v, numeric(0))){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
tamanho <- function(v){
i <- 0
if (!identical(v, numeric(0))){
i <- tamanho(v[-1]) + 1
}
return(i)
}
v <- c(1, 2, 3, 5)
tamanho(v)
v <- 0
tamanho(v)
v <- NULL
tamanho(v)
library(ggplot2)
library(dplyr)
library(forecast)
library(lubridate)
library(wesanderson)
library(scales)
library(zoo)
dados <- as_data_frame(read.table(file="data.csv", sep=",", header=TRUE))
dados <- dados %>%
select(-Calories)
dim(dados)
setwd("~/Documents/Research/github/MyFitnessPal")
library(ggplot2)
library(dplyr)
library(forecast)
library(lubridate)
library(wesanderson)
library(scales)
library(zoo)
dados <- as_data_frame(read.table(file="data.csv", sep=",", header=TRUE))
dados <- dados %>%
select(-Calories)
dim(dados)
str(dados)
dados$Date           <- ymd(dados$Date)
dados$Year           <- year(dados$Date)
dados$Month          <- month(dados$Date)
dados$Day            <- day(dados$Date)
dados$GrupoDiaSemana <- wday(dados$Date, label=TRUE)
dados$GrupoMes       <- ymd(paste(dados$Year, dados$Month, "01", sep="-"))
g1 <- ggplot(data=dados, aes(x=Date)) +
labs(x="Data", y="Peso (kg)") +
geom_line(aes(y=Weight, colour="Peso Real")) +
#geom_line(aes(y=c(rep(NA,  6), rollmean(Weight,  7)), colour="MM 07 Dias")) +
geom_line(aes(y=c(rep(NA, 29), rollmean(Weight, 30)), colour="MM 30 Dias")) +
geom_line(aes(y=c(rep(NA, 89), rollmean(Weight, 90)), colour="MM 90 Dias")) +
scale_colour_manual("Legenda", values = wes_palette("Zissou1")[c(5, 3, 2)]) +
scale_y_continuous(breaks = round(seq(floor(min(dados$Weight)), ceiling(max(dados$Weight)), by=1), 1), minor_breaks=NULL, limits=c(min(dados$Weight), max(dados$Weight))) +
scale_x_date(breaks=seq(min(dados$Date), max(dados$Date), by="2 month"), date_labels="%b/%Y", minor_breaks=seq(min(dados$Date), max(dados$Date), by="2 month")) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
annotate("text", ymd("2016-06-25"), 80, label="Buenos Aires", hjust=0.25) +
geom_segment(aes(x = ymd("2016-06-25"), y = 73, xend = ymd("2016-06-25"), yend = 79.5)) +
annotate("text", ymd("2017-01-12"), 78, label="Porto Alegre", hjust=0.25) +
geom_segment(aes(x = ymd("2017-01-12"), y = 77.5, xend = ymd("2017-01-12"), yend = 74)) +
annotate("text", ymd("2017-08-01"), 76, label="Comecei a correr na rua", hjust=0.25) +
geom_segment(aes(x = ymd("2017-08-01"), y = 72.5, xend = ymd("2017-08-01"), yend = 75.5)) +
annotate("text", ymd("2017-11-11"), 74, label="Parei de correr na rua", hjust=0.25) +
geom_segment(aes(x = ymd("2017-11-11"), y = 70.5, xend = ymd("2017-11-11"), yend = 73.5)) +
annotate("text", ymd("2017-12-26"), 70, label="Espanha", hjust=0.25) +
geom_segment(aes(x = ymd("2017-12-26"), y = 70.5, xend = ymd("2017-12-26"), yend = 71.5))
g1
pdf("grafico01.pdf")
g1
dev.off()
g2 <- ggplot(data=dados, aes(x=GrupoMes, y=Weight, group=GrupoMes, fill=as.factor(GrupoMes))) +
labs(x="Meses", y="Peso (kg)") +
geom_boxplot() +
scale_fill_manual("Meses", values=rep(wes_palette(5, name="Zissou1"), 20)[1:length(unique(dados$GrupoMes))]) +
scale_y_continuous(breaks = round(seq(floor(min(dados$Weight)), ceiling(max(dados$Weight)), by=1), 1), limits=c(min(dados$Weight), max(dados$Weight))) +
scale_x_date(breaks=seq(min(dados$Date), max(dados$Date), by="1 month"), date_labels="%b/%Y", minor_breaks=seq(min(dados$Date), max(dados$Date), by="1 month")) +
theme_bw() +
guides(fill=FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
g2
pdf("grafico02.pdf")
g2
dev.off()
ggplot(data=dados, aes(x=GrupoDiaSemana, y=Weight, group=GrupoDiaSemana, fill=GrupoDiaSemana)) +
labs(x="Dia da Semana", y="Peso (kg)") +
geom_boxplot() +
scale_fill_manual("Dia da Semana", values=rep(wes_palette(3, name="Royal1"), 20)[1:length(unique(dados$GrupoDiaSemana))]) +
scale_y_continuous(breaks = round(seq(floor(min(dados$Weight)), ceiling(max(dados$Weight)), by=1), 1), limits=c(min(dados$Weight), max(dados$Weight))) +
guides(fill=FALSE) +
theme_bw()
dados %>%
group_by(Year, Month) %>%
summarise(Mediana=median(Weight), Média=mean(Weight)) %>%
mutate(Data=ymd(paste(Year, Month, 01, sep="-"))) %>%
select(Data, Média, Mediana) %>%
print(n=Inf)
dados %>%
arrange(Weight) %>%
select(Day, Month, Year, Weight, GrupoDiaSemana) %>%
print(n=20)
dados %>%
arrange(Weight) %>%
select(Day, Month, Year, Weight, GrupoDiaSemana) %>%
print(n=20) %>%
filter(Weight < 71)
dados %>%
arrange(Weight) %>%
head(n=20) %>%
group_by(Year) %>%
count()
dados %>%
arrange(Weight) %>%
head(n=50) %>%
count(GrupoDiaSemana) %>%
arrange(desc(n))
dados %>%
filter(Year==2017) %>%
arrange(Weight) %>%
head(n=30) %>%
count(GrupoDiaSemana) %>%
arrange(desc(n))
ajuste.arima <- auto.arima(dados$Weight, max.p=10, max.q=10, max.d=3, seasonal=TRUE, ic="aicc")
tsdiag(ajuste.arima)
plot(forecast(ajuste.arima, h=20))
setwd("~/Documents/Research/github/MyFitnessPal")
library(tidyverse)
library(forecast)
library(lubridate)
library(wesanderson)
library(scales)
library(zoo)
dados <- as_data_frame(read.table(file="data.csv", sep=",", header=TRUE))
dados <- dados %>%
select(-Calories)
dim(dados)
str(dados)
dados$Date           <- ymd(dados$Date)
dados$Year           <- year(dados$Date)
dados$Month          <- month(dados$Date)
dados$Day            <- day(dados$Date)
dados$GrupoDiaSemana <- wday(dados$Date, label=TRUE)
dados$GrupoMes       <- ymd(paste(dados$Year, dados$Month, "01", sep="-"))
g1 <- ggplot(data=dados, aes(x=Date)) +
labs(x="Data", y="Peso (kg)") +
geom_line(aes(y=Weight, colour="Peso Real")) +
#geom_line(aes(y=c(rep(NA,  6), rollmean(Weight,  7)), colour="MM 07 Dias")) +
geom_line(aes(y=c(rep(NA, 29), rollmean(Weight, 30)), colour="MM 30 Dias")) +
geom_line(aes(y=c(rep(NA, 89), rollmean(Weight, 90)), colour="MM 90 Dias")) +
scale_colour_manual("Legenda", values = wes_palette("Zissou1")[c(5, 3, 2)]) +
scale_y_continuous(breaks = round(seq(floor(min(dados$Weight)), ceiling(max(dados$Weight)), by=1), 1), minor_breaks=NULL, limits=c(min(dados$Weight), max(dados$Weight))) +
scale_x_date(breaks=seq(min(dados$Date), max(dados$Date), by="2 month"), date_labels="%b/%Y", minor_breaks=seq(min(dados$Date), max(dados$Date), by="2 month")) +
theme_bw() +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
annotate("text", ymd("2016-06-25"), 80, label="Buenos Aires", hjust=0.25) +
geom_segment(aes(x = ymd("2016-06-25"), y = 73, xend = ymd("2016-06-25"), yend = 79.5)) +
annotate("text", ymd("2017-01-12"), 78, label="Porto Alegre", hjust=0.25) +
geom_segment(aes(x = ymd("2017-01-12"), y = 77.5, xend = ymd("2017-01-12"), yend = 74)) +
annotate("text", ymd("2017-08-01"), 76, label="Comecei a correr na rua", hjust=0.25) +
geom_segment(aes(x = ymd("2017-08-01"), y = 72.5, xend = ymd("2017-08-01"), yend = 75.5)) +
annotate("text", ymd("2017-11-11"), 74, label="Parei de correr na rua", hjust=0.25) +
geom_segment(aes(x = ymd("2017-11-11"), y = 70.5, xend = ymd("2017-11-11"), yend = 73.5)) +
annotate("text", ymd("2017-12-26"), 70, label="Espanha", hjust=0.25) +
geom_segment(aes(x = ymd("2017-12-26"), y = 70.5, xend = ymd("2017-12-26"), yend = 71.5))
g1
pdf("grafico01.pdf")
g1
dev.off()
g2 <- ggplot(data=dados, aes(x=GrupoMes, y=Weight, group=GrupoMes, fill=as.factor(GrupoMes))) +
labs(x="Meses", y="Peso (kg)") +
geom_boxplot() +
scale_fill_manual("Meses", values=rep(wes_palette(5, name="Zissou1"), 20)[1:length(unique(dados$GrupoMes))]) +
scale_y_continuous(breaks = round(seq(floor(min(dados$Weight)), ceiling(max(dados$Weight)), by=1), 1), limits=c(min(dados$Weight), max(dados$Weight))) +
scale_x_date(breaks=seq(min(dados$Date), max(dados$Date), by="1 month"), date_labels="%b/%Y", minor_breaks=seq(min(dados$Date), max(dados$Date), by="1 month")) +
theme_bw() +
guides(fill=FALSE) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
g2
pdf("grafico02.pdf")
g2
dev.off()
